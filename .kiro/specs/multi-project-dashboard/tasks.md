# ProjectLens 実装タスクリスト

- [x] 1. プロジェクト基盤とコア構造の構築
    - [x] 1.1 プロジェクトメタデータの更新
        - package.json、tauri.conf.jsonのプロジェクト名を「ProjectLens」に変更
        - アプリケーション識別子とメタデータの統一
        - _要件: 7.1, 7.2, 7.3_
  
    - [x] 1.2 ProjectLens用ディレクトリ構造の構築
        - フロントエンド: components/dashboard, components/settings, stores, types, utilsディレクトリの作成
        - バックエンド: ai, crypto, storage, mcp, docker, modelsモジュールディレクトリの作成
        - 各モジュールの基本ファイル構造とmod.rsの設定
        - _要件: 7.1, 7.2, 7.3_

    - [x] 1.3 必要な依存関係の追加
        - Rust: rusqlite, ring, reqwest, tokio, thiserror, bollardの追加
        - フロントエンド: @pinia/nuxt, dayjs, @nuxt/iconの追加
        - 開発用依存関係の整備
        - _要件: 7.1, 7.2, 7.3_
  
    - [x] 1.4 基本設定ファイルの調整
        - Tauri設定: ウィンドウサイズ、セキュリティ設定の調整
        - Nuxt設定: Pinia、必要なモジュールの追加
        - 環境変数管理用の.env.exampleファイル作成
        - _要件: 7.1, 7.2, 7.3_

- [x] 2. Docker環境チェック機能の実装
    - [x] 2.1 Docker可用性チェックサービスの作成
        - Docker コマンド実行可能性の検証機能を実装
        - Docker バージョン取得とMCP Server コンテナ状態確認機能を作成
        - _要件: 4.1_

    - [x] 2.2 Docker エラーハンドリングUIの実装
        - Docker未検出時のエラーダイアログコンポーネントを作成
        - インストールガイド表示とリトライ機能を実装
        - _要件: 4.5_

- [ ] 3. 暗号化サービスとセキュアストレージの実装
  - [ ] 3.1 暗号化サービスの作成
    - AES-256-GCM暗号化・復号化機能を実装
    - PBKDF2キー導出とソルト生成機能を作成
    - _要件: 6.1, 6.2_

  - [ ] 3.2 セキュアストレージサービスの実装
    - 暗号化された認証情報の保存・読み込み機能を実装
    - メモリクリア機能とセキュアな破棄処理を作成
    - _要件: 6.1, 6.2, 6.3_

- [ ] 4. データモデルとローカルストレージの実装
  - [ ] 4.1 コアデータモデルの定義
    - Ticket、AIAnalysis、ProjectWeight、BacklogWorkspaceConfig構造体を実装
    - データ検証とシリアライゼーション機能を追加
    - _要件: 1.3, 3.2, 4.3_

  - [ ] 4.2 SQLiteローカルストレージの実装
    - データベーススキーマ作成とマイグレーション機能を実装
    - チケットキャッシュとプロジェクト設定の永続化機能を作成
    - _要件: 9.1, 9.2_

- [ ] 5. Backlogワークスペース設定機能の実装
  - [ ] 5.1 ワークスペース管理UIの作成
    - 複数ワークスペース一覧表示コンポーネントを実装
    - 新規追加・編集・削除機能のフォームを作成
    - _要件: 4.3, 4.4_

  - [ ] 5.2 ワークスペース設定の永続化
    - BACKLOG_DOMAIN、BACKLOG_API_KEYの暗号化保存機能を実装
    - ワークスペース有効/無効切り替え機能を作成
    - _要件: 4.4, 6.1_

- [ ] 6. MCP Server通信機能の実装
  - [ ] 6.1 MCP通信サービスの作成
    - Docker上のBacklog MCP Serverとの接続機能を実装
    - 複数ワークスペースからのチケット取得機能を作成
    - _要件: 4.1, 4.2_

  - [ ] 6.2 MCP Server設定更新機能の実装
    - ワークスペース設定変更時のMCP Server設定反映機能を作成
    - 接続テストと状態監視機能を実装
    - _要件: 4.4, 4.5_

- [ ] 7. AIプロバイダー統合とMastra実装
  - [ ] 7.1 AIプロバイダー抽象化層の作成
    - OpenAI、Claude、Geminiの統一インターフェースを実装
    - プロバイダー切り替えとAPIキー管理機能を作成
    - _要件: 5.1, 5.2, 5.3_

  - [ ] 7.2 Mastra AI統合サービスの実装
    - チケット優先度分析機能をMastraで実装
    - プロジェクト重みを考慮した推奨アルゴリズムを作成
    - _要件: 2.1, 2.4, 3.3_

- [ ] 8. チケット分析と分類機能の実装
  - [ ] 8.1 チケット分類ロジックの作成
    - 自分に割り当てられたチケットの識別機能を実装
    - コメント・メンション・通知先チケットの分類機能を作成
    - _要件: 1.3, 1.4_

  - [ ] 8.2 関連タスク判定機能の実装
    - 複数回コメント済みチケットの識別機能を実装
    - 通知先設定済み非担当チケットの判定機能を作成
    - 完了していないチケットのフィルタリング機能を実装
    - _要件: 8.1, 8.2, 8.3_

- [ ] 9. ダッシュボードUI実装
  - [ ] 9.1 基本ダッシュボード構造の作成
    - 複数プロジェクト概要表示コンポーネントを実装
    - レスポンシブレイアウトとテーマ対応を作成
    - _要件: 1.1, 1.2_

  - [ ] 9.2 タスクセクションコンポーネントの実装
    - 緊急対応セクションの表示機能を作成
    - 今日の推奨タスクセクションを実装
    - 関連タスクセクションと視覚的区別機能を作成
    - _要件: 2.2, 8.3, 8.4_

  - [ ] 9.3 AI分析結果表示機能の実装
    - AI分析結果とアドバイス表示パネルを作成
    - 優先度スコアと推奨理由の表示機能を実装
    - _要件: 2.2, 2.3_

- [ ] 10. プロジェクト重み設定機能の実装
  - [ ] 10.1 重み設定UIの作成
    - プロジェクト一覧と1-10スコア設定インターフェースを実装
    - リアルタイム設定反映とプレビュー機能を作成
    - _要件: 3.1, 3.2_

  - [ ] 10.2 重み設定の永続化と反映
    - プロジェクト重み設定のローカル保存機能を実装
    - AI優先度判定への重み反映機能を作成
    - _要件: 3.3_

- [ ] 11. オフライン対応とキャッシュ機能の実装
  - [ ] 11.1 キャッシュ管理機能の作成
    - チケット情報のローカルキャッシュ保存機能を実装
    - キャッシュサイズ制限と自動削除機能を作成
    - _要件: 9.1_

  - [ ] 11.2 オフライン状態検出と表示
    - ネットワーク接続状態の監視機能を実装
    - オフライン時のキャッシュデータ表示とステータス通知を作成
    - 接続復旧時の自動更新機能を実装
    - _要件: 9.2, 9.3_

- [ ] 12. エラーハンドリングと通知システムの実装
  - [ ] 12.1 包括的エラーハンドリングの作成
    - 接続エラー、データエラー、ユーザーエラーの分類処理を実装
    - エラー状況に応じた適切な回復処理を作成
    - _要件: 4.5_

  - [ ] 12.2 ユーザー通知システムの実装
    - システム状態変更の通知表示機能を作成
    - エラー詳細とアクション提案の表示機能を実装
    - _要件: 4.5_

- [ ] 13. 設定管理とUI統合
  - [ ] 13.1 統合設定画面の作成
    - AI設定、Backlog設定、表示設定の統合インターフェースを実装
    - 設定変更の即座反映とバリデーション機能を作成
    - _要件: 5.1, 5.2, 5.3_

  - [ ] 13.2 設定の永続化と同期
    - JSON形式での設定ファイル管理機能を実装
    - 設定変更時のサービス再設定機能を作成
    - _要件: 6.1_

- [ ] 14. パフォーマンス最適化とテスト実装
  - [ ] 14.1 パフォーマンス最適化の実装
    - 並列API呼び出しと差分更新機能を作成
    - 仮想スクロールとプログレッシブローディングを実装
    - メモリ使用量最適化とガベージコレクション機能を作成
    - _要件: 1.2, 2.1_

  - [ ] 14.2 包括的テストスイートの作成
    - ユニットテスト、統合テスト、E2Eテストを実装
    - Mock MCP ServerとAI Provider Stubを作成
    - クロスプラットフォームテスト環境を構築
    - _要件: 7.1, 7.2, 7.3_

- [ ] 15. 最終統合とアプリケーション完成
  - [ ] 15.1 全機能の統合テスト
    - エンドツーエンドの動作確認とバグ修正を実行
    - パフォーマンステストと最適化調整を実施
    - _要件: 1.1, 1.2, 1.3, 1.4_

  - [ ] 15.2 本番ビルドと配布準備
    - クロスプラットフォーム向けの本番ビルドを作成
    - Tauri Updaterを使用した自動更新機能を実装
    - アプリケーション署名と配布パッケージを準備
    - _要件: 7.1, 7.2, 7.3_